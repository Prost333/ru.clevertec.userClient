# Задача - Микросервис USER

Создать микросервисное приложение для управления новостями и комментариями.

## Описание

Приложение должно содержать три основные сущности: News, Comment и User. Система должна предоставлять REST API для выполнения следующих операций:

### User

У User должны быть следующие поля: id, username, password, role. User может быть владельцем множества новостей и комментариев.

- CRUD для User (в GET-запросах не выводить информацию о News и Comment)
- Регистрация и аутентификация пользователей
- Разграничение доступа на основе ролей пользователей

## Дополнительные требования

- Использовать Spring Boot 3.x, Java 17, Gradle и PostgreSQL.
- Разместить проект в любом из публичных git-репозиториев (Bitbucket, github, gitlab).
- Код должен быть легко читаемый и понятный, с использованием паттернов проектирования.
- Реализовать на основе Spring @Profile (e.g. test & prod) подключение к базам данных.
- Подключить liquibase для управления версиями базы данных.
- Создать реализацию кэша, для хранения сущностей. Реализовать два алгоритма LRU и LFU.
- Весь код должен быть покрыт юнит-тестами (80%) (сервисный слой – 100%).
- Реализовать логирование запрос-ответ в аспектном стиле (для слоя Controlles), а также логирование по уровням в отдельных слоях приложения, используя logback.
- Предусмотреть обработку исключений и интерпретацию их согласно REST.
- Все настройки должны быть вынесены в *.yml.
- Код должен быть документирован @JavaDoc, а назначение приложения и его интерфейс и настройки должны быть описаны в README.md файле.
- Использовать Spring REST Docs или другие средства автоматического документирования (например asciidoctor и т.д) и/или Swagger (OpenAPI 3.0).
- Использовать testcontainers в тестах на persistence layer (для БД).
- Написать интеграционные тесты.
- Использовать WireMock в тестах для слоя clients (разбиение на микросервисы).
- Использовать Docker (написать Dockerfile – для spring boot приложения, docker-compose.yml для поднятия БД и приложения в контейнерах и настроить взаимодействие между ними).
- Подключить кэш провайдер Redis (в docker) (в случае реализации, использовать @Profile для переключения между LRU/LFU и Redis).
- Spring Security:
    - API для регистрации пользователей с ролями admin/journalist/subscriber.
    - Администратор (role admin) может производить CRUD-операции со всеми сущностями.
    - Журналист (role journalist) может добавлять и изменять/удалять только свои новости.
    - Подписчик (role subscriber) может добавлять и изменять/удалять только свои комментарии.
    - Незарегистрированные пользователи могут только просматривать новости и комментарии.
- Создать отдельный микросервис с реляционной базой (postgreSQL), хранящей информацию о пользователях/ролях. Из главного микросервиса (отвечающего за новости) запрашивается эта информация по REST с использованием spring-cloud-feign-client.